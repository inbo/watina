<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Select locations based on summary statistics (generic function) — selectlocs • watina</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Select locations based on summary statistics (generic function) — selectlocs" />
<meta property="og:description" content="Generic (helper) function to select locations that comply with
user-specified conditions,
from either a dataset (dataframe or lazy object) with the variable's values or
from a dataframe with summary statistics." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">watina</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v010_getstarted.html">Getting started: connecting and selecting locations</a>
    </li>
    <li>
      <a href="../articles/v110_xg3.html">Using XG3 values to characterize and select locations</a>
    </li>
    <li>
      <a href="../articles/v210_chem.html">Using hydrochemical data to characterize and select locations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/inbo/watina/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Select locations based on summary statistics (generic function)</h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/watina/blob/master/R/selectlocs.R'><code>R/selectlocs.R</code></a></small>
    <div class="hidden name"><code>selectlocs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generic (helper) function to select locations that comply with
user-specified conditions,
from either a dataset (dataframe or lazy object) with the variable's values or
from a dataframe with summary statistics.</p>
    </div>

    <pre class="usage"><span class='fu'>selectlocs</span><span class='op'>(</span>
  <span class='va'>data</span>,
  data_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"data"</span>, <span class='st'>"summary"</span><span class='op'>)</span>,
  eval_fun <span class='op'>=</span> <span class='cn'>NULL</span>,
  eval_args <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>conditions</span>,
  <span class='va'>verbose</span>,
  <span class='va'>list</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Either:</p><ul>
<li><p>a dataset (dataframe or lazy object) with the variable's values:
with at least a column <code>loc_code</code>, a column with the variable name,
and a column <code>value</code>;</p></li>
<li><p>a dataframe with summary statistics:
with a first column <code>loc_code</code> and a second column with the evaluated
variable names or codes.
The column name of the second column can vary.
All other columns should have the name of the summary statistic, and hold
its value for <code>loc_code</code> x variable.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>data_type</th>
      <td><p>A string.
Either <code>"data"</code> (the default) or <code>"summary"</code>, in correspondence
with the choice made for <code>data</code>.</p></td>
    </tr>
    <tr>
      <th>eval_fun</th>
      <td><p>The evaluation function to be run, if <code>data</code> is a
dataset.</p></td>
    </tr>
    <tr>
      <th>eval_args</th>
      <td><p>The arguments of the evaluation function, as a named list,
if <code>data</code> is a dataset.</p></td>
    </tr>
    <tr>
      <th>conditions</th>
      <td><p>A dataframe.
It must have the
following columns:</p><dl>
<dt><code>variable</code></dt><dd><p>Can be any variable,
including <code>"combined"</code>.</p></dd>
<dt><code>statistic</code></dt><dd><p>Name of the statistic to be evaluated.</p></dd>
<dt><code>criterion</code></dt><dd><p>Numeric. Defines the value of the statistic on which
the
condition will be based.</p></dd>
<dt><code>direction</code></dt><dd><p>One of: <code>"min","max","equal"</code>.
Together with <code>criterion</code>, this completes the condition which will
be evaluated with respect to the specific <code>chem_variable</code>:
for <code>direction = "min"</code>, the statistic must be the criterion
value or larger; for <code>direction = "max"</code>, the statistic must be
the criterion value or lower; for <code>direction = "equal"</code>,
the statistic must be equal to the criterion value.</p></dd>

</dl>

<p>Each condition is one row of the dataframe.
The dataframe should have at least one, and may have many.
Each combination of <code>chem_variable</code> and <code>statistic</code> must be
unique.
Conditions on chemical variables, absent from <code>data</code> or not implied by
<code>chem_var</code>, will be dropped without warning.
Hence, it is up to the user to do sensible things.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical.
If <code>TRUE</code>, give feedback on dropped locations because of
(specific) unused conditions and other 'mismatch' reasons.</p></td>
    </tr>
    <tr>
      <th>list</th>
      <td><p>Logical.
If <code>FALSE</code> (the default), the function only returns the end-result
(a tibble with selected location codes).
If <code>TRUE</code>, the function returns a list with the end-result plus useful
intermediate results.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>list = FALSE</code>: a tibble with one column <code>loc_code</code> that
provides the locations selected by the conditions.</p>
<p>If <code>list = TRUE</code>: a list of tibbles that extends the previous end-result
with intermediate results.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The result of the evaluation function (<code>eval_fun</code>) must produce a
dataframe, formatted as declared by the second bullet under the
<code>data</code> argument.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Floris Vanderhaeghe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


