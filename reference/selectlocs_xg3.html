<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Select locations based on XG3 availability and XG3 series' properties — selectlocs_xg3 • watina</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Select locations based on XG3 availability and XG3 series' properties — selectlocs_xg3" />
<meta property="og:description" content="Select locations that comply with user-specified conditions,
from a dataset as returned by get_xg3,
or from a list with the outputs of
eval_xg3_avail and eval_xg3_series.
Conditions can be specified for each of the summary statistics returned
by eval_xg3_avail and eval_xg3_series." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">watina</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v010_getstarted.html">Getting started: connecting and selecting locations</a>
    </li>
    <li>
      <a href="../articles/v110_xg3.html">Using XG3 values to characterize and select locations</a>
    </li>
    <li>
      <a href="../articles/v210_chem.html">Using hydrochemical data to characterize and select locations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/inbo/watina/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Select locations based on XG3 availability and XG3 series' properties</h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/watina/blob/master/R/selectlocs.R'><code>R/selectlocs.R</code></a></small>
    <div class="hidden name"><code>selectlocs_xg3.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Select locations that comply with user-specified conditions,
from a dataset as returned by <code><a href='get_xg3.html'>get_xg3</a></code>,
<em>or</em> from a list with the outputs of
<code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>.
Conditions can be specified for each of the summary statistics returned
by <code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>selectlocs_xg3</span>(
  <span class='no'>data</span>,
  <span class='kw'>xg3_type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_gap</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>min_dur</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>conditions</span>,
  <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>list</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Either an object returned by <code><a href='get_xg3.html'>get_xg3</a></code>,
or a named list of two tibbles: <code>"avail"</code> and <code>"ser"</code>.
In the latter case, <code>"avail"</code> must be the output of
<code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code>"ser"</code> must be the output of
<code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>, whereby each function was applied to the same
dataset and used the same setting for the <code>xg3_type</code> argument.
See Details.</p></td>
    </tr>
    <tr>
      <th>xg3_type</th>
      <td><p>Only relevant
when data is an object formatted as returned by
<code><a href='get_xg3.html'>get_xg3</a></code>.
In that case, must be a character vector of length 1, 2 or 3,
which will default to <code>"L"</code> if not specified.
Defines the types of XG3 which are taken from <code>data</code> for the
<code>eval_xg3_xxx()</code> functions.
Specifies the 'X' in 'XG3': either <code>"L"</code>, <code>"H"</code> and/or <code>"V"</code>.
Together with the available variables in <code>data</code>,
<code>xg3_type</code> determines the meaning of the variable <code>"combined"</code>.</p></td>
    </tr>
    <tr>
      <th>max_gap</th>
      <td><p>A positive integer (can be zero).
It is part of what the user defines as 'an XG3 series':
the maximum allowed time gap between two consecutive
XG3 values in a series, expressed as the number of years without XG3 value.</p></td>
    </tr>
    <tr>
      <th>min_dur</th>
      <td><p>A strictly positive integer.
It is part of what the user defines as 'an XG3 series':
the minimum required duration of an XG3 series,
i.e. the time (expressed as years)
from the first to the last year of the XG3 series.</p></td>
    </tr>
    <tr>
      <th>conditions</th>
      <td><p>A dataframe.
See the devoted section below.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical.
If <code>TRUE</code>, give feedback on dropped locations because of
(specific) unused conditions and other 'mismatch' reasons.</p></td>
    </tr>
    <tr>
      <th>list</th>
      <td><p>Logical.
If <code>FALSE</code> (the default), the function only returns the end-result
(a tibble with selected location codes).
If <code>TRUE</code>, the function returns a list with the end-result plus useful
intermediate results (see Value).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>list = FALSE</code>: a tibble with one column <code>loc_code</code> that
provides the locations selected by the conditions.</p>
<p>If <code>list = TRUE</code>: a list of tibbles that extends the previous end-result
with intermediate results.
The below elements nrs. 2 and 3 are only given when at least one XG3
availability
condition was given, nrs. 4, 5 and 6 only when at least one XG3 series
condition was given,
and nr. 7 is only returned when both types of condition were given.
All list elements are named:</p><ol>
<li><p><code>combined_result_filtered</code>:
the end-result, same as given by <code>list = FALSE</code>.</p></li>
<li><p><code>result_avail</code>:
the test result of
each computed and tested <em>availability</em> statistic for each location and
XG3 variable: 'condition met' (<code>cond_met</code>) is TRUE or FALSE.</p></li>
<li><p><code>combined_result_avail</code>:
aggregation of <code>result_avail</code> <strong>per location</strong>.
Specific columns:
<code>cond_met_avail</code> is <code>TRUE</code> if <em>all</em> availability conditions
for that location were <code>TRUE</code>, and is <code>FALSE</code> in all other cases.
<code>pct_cond_met_avail</code> is the percentage of 'met' availability conditions
per location.</p></li>
<li><p><code>result_series</code>:
the test result of
each computed and tested <em>series</em> statistic for each location and
XG3 series: 'condition met' (<code>cond_met</code>) is TRUE or FALSE.</p></li>
<li><p><code>combined_result_series_xg3var</code>:
aggregation of <code>result_series</code> <strong>per location and XG3 variable</strong>.
Two consecutive aggregation steps are involved here:</p><ol>
<li><p>per XG3 series: are <em>all</em> series conditions met?</p></li>
<li><p>per XG3 variable: is there <em>at least one</em> series where all series
conditions are met?</p></li>
</ol><p>Specific columns:
<code>all_ser_cond_met_xg3var</code> is the answer to question 2 (TRUE/FALSE).
<code>avg_pct_cond_met_nonpassed_series</code> is the average percentage
(for a location and XG3 variable) of 'met'
series conditions in the series where <em>not</em> all conditions were met.
(Note that the same percentage is 100 for series where all conditions are
met, leading to <code>all_ser_cond_met_xg3var = TRUE</code> at the level of
location and XG3 variable.)</p></li>
<li><p><code>combined_result_series</code>:
aggregation of <code>combined_result_series_xg3var</code> <strong>per location</strong>.
Specific columns:
<code>cond_met_series</code> is <code>TRUE</code> if <em>all</em> XG3 variables
(that have series and on which series conditions were imposed)
were <code>TRUE</code> in the previous aggregation
(<code>all_ser_cond_met_xg3var = TRUE</code>), and is <code>FALSE</code> in all other
cases.
<code>pct_xg3vars_passed_ser</code> is the percentage of a location's XG3 variables
(that have series and on which series conditions were imposed) that were
<code>TRUE</code> in the previous aggregation
(<code>all_ser_cond_met_xg3var = TRUE</code>).
<code>avg_pct_cond_met_in_nonpassed_series</code> is the average of
<code>avg_pct_cond_met_nonpassed_series</code> from the previous aggregation step,
over the involved XG3 variables at the location.</p></li>
<li><p><code>combined_result</code>:
the inner join (on <code>loc_code</code>) between <code>combined_result_avail</code>
and <code>combined_result_series</code>.
Locations that were dropped in either evaluation because of missing
information, are dropped here too,
because the function is to return locations for which all conditions hold
and hence could be verified.</p>
<p>The last column, <code>all_cond_met</code>, requires both
<code>cond_met_avail = TRUE</code> and <code>cond_met_series = TRUE</code> to result in
<code>TRUE</code> for a location.</p>
<p>Notes:</p><ul>
<li><p>locations with <code>all_cond_met = FALSE</code> are not discarded in this
object;</p></li>
<li><p>filtering locations with <code>all_cond_met = TRUE</code> will result in
exactly
the locations given by <code>combined_result_filtered</code>, see list element 1;</p></li>
<li><p>the object is only returned when both availability and series
condition(s) were given (at least one of each family).
In the other cases, you can directly look at <code>combined_result_avail</code>
or <code>combined_result_series</code>, from which <code>combined_result_filtered</code>
is derived.</p></li>
</ul></li>
</ol>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>selectlocs_xg3()</code> separately runs <code><a href='eval_xg3_avail.html'>eval_xg3_avail()</a></code> and
<code><a href='eval_xg3_series.html'>eval_xg3_series()</a></code> on the input (<code>data</code>) if the latter
conforms to the output of <code><a href='get_xg3.html'>get_xg3</a></code>.
See the documentation of
<code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>
to learn more about how an 'XG3 variable'
and an 'XG3 series' are defined, and about the available summary statistics.
Each condition for evaluation + selection of locations
is specific to an XG3 <em>variable</em>, which can also be
the level 'combined'.
Hence, the result will depend both on the XG3 <em>types</em> (HG3, LG3 and/or
VG3) for which statistics have been computed (specified by <code>xg3_type</code>),
and on the conditions, specified by <code>conditions</code>.
See the devoted section on the <code>conditions</code> dataframe.</p>
<p>Only locations are returned:</p><ul>
<li><p>which have <strong>all</strong> XG3 variables, implied by <code>xg3_type</code> and
present in <code>conditions</code>, available in <code>data</code>.
(In other words, all conditions must be testable.)</p></li>
<li><p>for which <strong>all</strong>
conditions are met;</p></li>
</ul><p>As the conditions imposed by the <code>conditions</code> dataframe are always
evaluated as a
required combination of conditions ('and'), the user must make different
calls to <code>selectlocs_xg3()</code>
if different sets of conditions are to be allowed ('or').</p>
<p>Regarding conditions that evaluate XG3 <em>series</em>, it is taken into
account that one location can have multiple series for the same XG3
variable.
When the user provides one or more conditions for the series of a specific
XG3 variable, the condition(s) are regarded as fulfilled ('condition met')
when <strong>at least one</strong> series is present of that XG3 variable
for which <strong>all</strong> those conditions are met.</p>
<p><code>selectlocs_xg3()</code> joins the long-formatted results of
<code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>
with the <code>conditions</code> dataframe in order to evaluate the conditions.
Often, this join in itself already leads to dropping specific
combinations of <code>loc_code</code> and <code>xg3_variable</code>.
At least the locations that are completely dropped in this step are reported
when <code>verbose = TRUE</code>.</p>
<p>For larger datasets <code><a href='eval_xg3_series.html'>eval_xg3_series()</a></code> can take quite some time,
whereas the user may want to repeatedly try different sets of conditions
until a satisfying selection of locations is returned.
However the output of both <code><a href='eval_xg3_avail.html'>eval_xg3_avail()</a></code> and
<code><a href='eval_xg3_series.html'>eval_xg3_series()</a></code> will not change as long as the data and the chosen
values of <code>max_gap</code> and <code>min_dur</code> are not altered.
For that reason, the user can also prepare a list object with the
respective results of <code><a href='eval_xg3_avail.html'>eval_xg3_avail()</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series()</a></code>,
which must be named as <code>"avail"</code> and <code>"ser"</code>, respectively.
This list can instead be used as data-input, and in that case
<code>xg3_type</code>, <code>max_gap</code> and <code>min_dur</code> are not needed
(they will be ignored).</p>
    <h2 class="hasAnchor" id="specification-of-the-conditions-dataframe"><a class="anchor" href="#specification-of-the-conditions-dataframe"></a>Specification of the conditions dataframe</h2>

    

<p>Conditions can be specified for each of the summary statistics returned
by <code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code> and <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code>.
Consequently, XG3 availability conditions and
XG3 series conditions can be distinguished.</p>
<p>The <code>conditions</code> parameter takes a dataframe that must have the
following columns:</p><dl'>
<dt><code>xg3_variable</code></dt><dd><p>One of: <code>"combined","lg3_lcl","lg3_ost",
"vg3_lcl",
"vg3_ost","hg3_lcl","hg3_ost"</code>.</p></dd>
<dt><code>statistic</code></dt><dd><p>Name of the statistic to be evaluated.</p></dd>
<dt><code>criterion</code></dt><dd><p>Numeric. Defines the value of the statistic on which
the
condition will be based.</p></dd>
<dt><code>direction</code></dt><dd><p>One of: <code>"min","max","equal"</code>.
Together with <code>criterion</code>, this completes the condition which will
be evaluated with respect to the specific <code>xg3_variable</code>:
for <code>direction = "min"</code>, the statistic must be the criterion
value or larger; for <code>direction = "max"</code>, the statistic must be
the criterion value or lower; for <code>direction = "equal"</code>,
the statistic must be equal to the criterion value.</p></dd>

</dl>

<p>Each condition is one row of the dataframe.
The dataframe should have at least one, and may have many.
Each combination of <code>xg3_variable</code> and <code>statistic</code> must be
unique.
Conditions on XG3 variables, absent from <code>data</code> or not implied by
<code>xg3_type</code>, will be dropped without warning.
Hence, it is up to the user to do sensible things.</p>
<p>The possible statistics for XG3 availability conditions are: <em>nryears,
firstyear, lastyear</em>.</p>
<p>The possible statistics for XG3 series conditions are: <em>ser_length,
ser_nryears, ser_rel_nryears, ser_firstyear, ser_lastyear,
ser_pval_uniform, ser_mean, ser_sd, ser_se_6y, ser_rel_sd_lcl,
ser_rel_se_6y_lcl</em>. The last six are not defined for the XG3 variable
'combined', and the last two are only defined for variables with a local
vertical CRS.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='eval_xg3_avail.html'>eval_xg3_avail</a></code>, <code><a href='eval_xg3_series.html'>eval_xg3_series</a></code></p>
<p>Other functions to select locations: 
<code><a href='selectlocs_chem.html'>selectlocs_chem</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='no'>watina</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='connect_watina.html'>connect_watina</a></span>()
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>dplyr</span>)
<span class='no'>mylocs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='get_locs.html'>get_locs</a></span>(<span class='no'>watina</span>,
                   <span class='kw'>area_codes</span> <span class='kw'>=</span> <span class='st'>"TOR"</span>,
                   <span class='kw'>loc_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"P"</span>, <span class='st'>"S"</span>))
<span class='no'>mydata</span> <span class='kw'>&lt;-</span>
 <span class='no'>mylocs</span> <span class='kw'>%&gt;%</span>
 <span class='fu'><a href='get_xg3.html'>get_xg3</a></span>(<span class='no'>watina</span>, <span class='fl'>2000</span>)
<span class='no'>mydata</span>
<span class='co'># Number of locations in mydata:</span>
<span class='no'>mydata</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span>(<span class='no'>loc_code</span>) <span class='kw'>%&gt;%</span> <span class='no'>count</span>
<span class='co'># Number of hydrological years per location and XG3 variable:</span>
<span class='no'>mydata</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span>(<span class='no'>loc_code</span>) <span class='kw'>%&gt;%</span>
  <span class='no'>collect</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span>(<span class='kw'>lg3_lcl</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(!<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>lg3_lcl</span>)),
            <span class='kw'>hg3_lcl</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(!<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>hg3_lcl</span>)),
            <span class='kw'>vg3_lcl</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span>(!<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>vg3_lcl</span>)))
<span class='no'>conditions_df</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/reexports.html'>tribble</a></span>(
  ~<span class='no'>xg3_variable</span>, ~<span class='no'>statistic</span>, ~<span class='no'>criterion</span>, ~<span class='no'>direction</span>,
  <span class='st'>"lg3_lcl"</span>, <span class='st'>"ser_lastyear"</span>, <span class='fl'>2015</span>, <span class='st'>"min"</span>,
  <span class='st'>"hg3_lcl"</span>, <span class='st'>"ser_lastyear"</span>, <span class='fl'>2015</span>, <span class='st'>"min"</span>
  )
<span class='no'>conditions_df</span>
<span class='no'>result</span> <span class='kw'>&lt;-</span>
  <span class='no'>mydata</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>selectlocs_xg3</span>(<span class='kw'>xg3_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"L"</span>, <span class='st'>"H"</span>),
                  <span class='kw'>max_gap</span> <span class='kw'>=</span> <span class='fl'>1</span>,
                  <span class='kw'>min_dur</span> <span class='kw'>=</span> <span class='fl'>5</span>,
                  <span class='kw'>conditions</span> <span class='kw'>=</span> <span class='no'>conditions_df</span>,
                  <span class='kw'>list</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># or:</span>
<span class='co'># mystats &lt;- list(avail = eval_xg3_avail(mydata,</span>
<span class='co'>#                                        xg3_type = c("L", "H")),</span>
<span class='co'>#                 ser =  eval_xg3_series(mydata,</span>
<span class='co'>#                                        xg3_type = c("L", "H"),</span>
<span class='co'>#                                        max_gap = 1,</span>
<span class='co'>#                                        min_dur = 5))</span>
<span class='co'># result &lt;-</span>
<span class='co'>#   mystats %&gt;%</span>
<span class='co'>#   selectlocs_xg3(conditions = conditions_df,</span>
<span class='co'>#                  list = TRUE)</span>
<span class='no'>result</span>$<span class='no'>combined_result_filtered</span>
<span class='no'>result</span>[<span class='fl'>2</span>:<span class='fl'>4</span>]
<span class='co'># Disconnect:</span>
<span class='kw pkg'>DBI</span><span class='kw ns'>::</span><span class='fu'><a href='https://dbi.r-dbi.org/reference/dbDisconnect.html'>dbDisconnect</a></span>(<span class='no'>watina</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Floris Vanderhaeghe.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


